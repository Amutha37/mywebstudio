(this.webpackJsonpmywebstudio=this.webpackJsonpmywebstudio||[]).push([[0],{38:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(30),i=c.n(n),r=(c(38),c(9)),l=c(2),d=c(0),o=function(){return Object(d.jsx)("header",{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"inner-content",children:[Object(d.jsx)("div",{className:"brand",children:Object(d.jsx)(r.b,{to:"/",children:"Movies"})}),Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"WatchList"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/watched",children:"Watched"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/add",className:"btn",children:"+ List"})})]})]})})})},j=c(11),h=c(15),b=c(8),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(h.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},u={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},m=Object(a.createContext)(u),v=function(e){var t=Object(a.useReducer)(O,u),c=Object(j.a)(t,2),s=c[0],n=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(d.jsx)(m.Provider,{value:{watchlist:s.watchlist,watched:s.watched,addMovieToWatchlist:function(e){n({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){n({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){n({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},x=function(e){var t=e.type,c=e.movie,s=Object(a.useContext)(m),n=s.removeMovieFromWatchlist,i=s.addMovieToWatched,r=s.moveToWatchlist,l=s.removeFromWatched;return Object(d.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(c)},children:Object(d.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(d.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(c.id)},children:Object(d.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(c)},children:Object(d.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(d.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(c.id)},children:Object(d.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},p=function(e){var t=e.movie,c=e.type;return Object(d.jsxs)("div",{className:"movie-card",children:[Object(d.jsx)("div",{className:"overlay",children:" "}),t.poster_path?Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," poster")}):Object(d.jsx)("div",{className:"filler-poster"}),Object(d.jsx)(x,{type:c,movie:t})]})},f=function(){var e=Object(a.useContext)(m).watchlist;return Object(d.jsx)("div",{className:"movie-page",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h1",{className:"heading",children:"Plan to watch"}),Object(d.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(d.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(d.jsx)(p,{movie:e,type:"watchlist"},e.id)}))}):Object(d.jsx)("h2",{className:"no-movies",children:"No movies in your list for now."})]})})},w=function(){var e=Object(a.useContext)(m).watched;return Object(d.jsx)("div",{className:"movie-page",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(d.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(d.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(d.jsx)(p,{movie:e,type:"watched"},e.id)}))}):Object(d.jsx)("h2",{className:"no-movies",children:"Hey! You haven't watched any movies yet.Go and watch a movie!"})]})})},N=c(20),g=c.n(N),y=c(32),_=function(e){var t=e.movie,c=Object(a.useContext)(m),s=c.addMovieToWatchlist,n=c.addMovieToWatched,i=c.watchlist,r=c.watched,l=i.find((function(e){return e.id===t.id})),o=r.find((function(e){return e.id===t.id})),j=!!l||!!o,h=!!o;return Object(d.jsxs)("div",{className:"result-card",children:[Object(d.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(d.jsx)("div",{className:"filler-poster"})}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsx)("h3",{className:"title",children:t.title})}),Object(d.jsxs)("div",{className:"controls",children:[Object(d.jsx)("button",{className:"btn",disabled:j,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(d.jsx)("button",{className:"btn",disabled:h,onClick:function(){return n(t)},children:"Add to Watched"})]})]})]})},M=c(33),T=c.n(M),W=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),i=Object(j.a)(n,2),r=i[0],l=i[1],o=Object(a.useState)(!1),h=Object(j.a)(o,2),b=h[0],O=h[1],u=Object(a.useState)(!1),m=Object(j.a)(u,2),v=m[0],x=m[1],p=function(){var e=Object(y.a)(g.a.mark((function e(t){var c,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),x(!1),e.prev=2,e.next=5,T.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("f1f50d42b515c8ba85e1478b56a4d418","&language=en-US&page=1&include_adult=false&query=").concat(t.target.value));case 5:return c=e.sent,a=c.data.results,l(a),O(!1),console.log(r),e.abrupt("return");case 13:e.prev=13,e.t0=e.catch(2),x(!0),l([]);case 17:O(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"add-page",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"add-content",children:[Object(d.jsx)("div",{className:"input-wrapper",children:Object(d.jsx)("input",{type:"text",placeholder:"search for a movie",value:c,onChange:function(e){s(e.target.value),x(!1),p(e)}})}),v&&Object(d.jsx)("div",{children:"Something went wrong ..."}),b?Object(d.jsx)("div",{children:"Loading ..."}):Object(d.jsx)("ul",{className:"results",children:r.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(_,{movie:e})},e.id)}))})]})})})};c(64);function S(){return Object(d.jsx)(v,{children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)(o,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(f,{})}),Object(d.jsx)(l.a,{path:"/watched",children:Object(d.jsx)(w,{})}),Object(d.jsx)(l.a,{path:"/add",children:Object(d.jsx)(W,{})})]})]})})}i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.1048ce45.chunk.js.map